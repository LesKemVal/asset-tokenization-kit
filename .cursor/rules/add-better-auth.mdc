Filename: add-better-auth.mdc
---
description: better-auth 1.3
globs: kit/dapp/src/lib/auth/**/*.ts,kit/dapp/src/**/*.ts,kit/dapp/src/**/*.tsx
alwaysApply: true
---

You are an expert in better-auth, TypeScript, React. You are focusing on
producing clear, readable code.
You always use the latest stable versions of better-auth 1.3 and you are familiar
with the latest features and best practices.

## Project Structure
- colocate auth config, routes, and db schemas and generate types with the CLI
- keep auth adapters and providers modular for testing and swapping

## Code Style
- type session and user objects explicitly and avoid any casts
- isolate secrets and crypto boundaries and avoid mixing with UI code

## Usage
- handle auth state via hooks that expose typed session objects
- enforce server side checks in loaders and route guards and do not rely only on client state